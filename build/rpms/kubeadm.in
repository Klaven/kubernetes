Name: kubeadm
Version: ${KUBEADM_VERSION}
Release: 00
License: ASL 2.0
Summary: Container Cluster Manager - Kubernetes Cluster Bootstrapping Tool
Requires: kubelet >= 1.8.0
Requires: kubectl >= 1.8.0
Requires: kubernetes-cni >= 0.7.5
Requires: cri-tools >= 1.11.0

URL: https://kubernetes.io

%description
Command-line utility for deploying a Kubernetes cluster.

%install
cd %{_builddir}
install -m 755 -d %{buildroot}%{_unitdir}
install -m 755 -d %{buildroot}%{_unitdir}/kubelet.service.d/
install -m 755 -d %{buildroot}%{_bindir}
install -m 755 -d %{buildroot}%{_sysconfdir}/cni/net.d/
install -m 755 -d %{buildroot}%{_sysconfdir}/kubernetes/manifests/
install -m 755 -d %{buildroot}/var/lib/kubelet/
install -p -m 755 -t %{buildroot}%{_bindir}/ kubelet
install -p -m 755 -t %{buildroot}%{_bindir}/ kubectl
install -p -m 755 -t %{buildroot}%{_bindir}/ kubeadm
install -p -m 644 -t %{buildroot}%{_unitdir}/ kubelet.service
install -p -m 644 -t %{buildroot}%{_unitdir}/kubelet.service.d/ 10-kubeadm.conf
install -p -m 755 -t %{buildroot}%{_bindir}/ cri-tools/crictl

%files -n kubeadm
%{_bindir}/kubeadm
%{_unitdir}/kubelet.service.d/10-kubeadm.conf
%{_bindir}/kubelet
%{_unitdir}/kubelet.service
%{_sysconfdir}/kubernetes/manifests/


%changelog
* Tue Mar 20 2019 Lubomir I. Ivanov <lubomirivanov@vmware.com>
- Bump CNI version to v0.7.5.

* Tue Sep 25 2018 Chuck Ha <chuck@heptio.com> - 1.12.1
- Bump cri-tools to 1.12.0.

* Fri Jul 13 2018 Lantao Liu <lantaol@google.com> - 1.11.0
- Bump cri-tools to 1.11.1.

* Tue Jun 19 2018 Chuck Ha <chuck@heptio.com> - 1.11.0
- Bump cri-tools to GA version.

* Thu Jun 14 2018 Chuck Ha <chuck@heptio.com> - 1.11.0
- Add a crictl sub-package.

* Fri Jun 8 2018 Chuck Ha <chuck@heptio.com> - 1.11.0
- Bump version and update rpm manifest for kubeadm.

* Fri Dec 15 2017 Anthony Yeh <enisoc@google.com> - 1.9.0
- Release of Kubernetes 1.9.0.

* Thu Oct 19 2017 Di Xu <stephenhsu90@gmail.com>
- Bump CNI version to v0.6.0.

* Fri Sep 29 2017 Jacob Beacham <beacham@google.com> - 1.8.0
- Bump version of kubelet and kubectl to v1.8.0.

* Thu Aug 3 2017 Jacob Beacham <beacham@google.com> - 1.7.3
- Bump version of kubelet and kubectl to v1.7.3.

* Wed Jul 26 2017 Jacob Beacham <beacham@google.com> - 1.7.2
- Bump version of kubelet and kubectl to v1.7.2.

* Fri Jul 14 2017 Jacob Beacham <beacham@google.com> - 1.7.1
- Bump version of kubelet and kubectl to v1.7.1.

* Mon Jun 30 2017 Mike Danese <mikedanese@google.com> - 1.7.0
- Bump version of kubelet and kubectl to v1.7.0.

* Fri May 19 2017 Jacob Beacham <beacham@google.com> - 1.6.4
- Bump version of kubelet and kubectl to v1.6.4.

* Wed May 10 2017 Jacob Beacham <beacham@google.com> - 1.6.3
- Bump version of kubelet and kubectl to v1.6.3.

* Wed Apr 26 2017 Jacob Beacham <beacham@google.com> - 1.6.2
- Bump version of kubelet and kubectl to v1.6.2.

* Mon Apr 3 2017 Mike Danese <mikedanese@google.com> - 1.6.1
- Bump version of kubelet and kubectl to v1.6.1.

* Tue Mar 28 2017 Lucas Käldström <lucas.kaldstrom@hotmail.co.uk>
- Bump CNI version to v0.5.1.

* Wed Mar 15 2017 Lucas Käldström <lucas.kaldstrom@hotmail.co.uk> - 1.6.0
- Bump version of kubelet, kubectl and kubeadm to v1.6.0.

* Tue Dec 13 2016 Mike Danese <mikedanese@google.com> - 1.5.4
- Bump version of kubelet and kubectl to v1.5.4.

* Tue Dec 13 2016 Lucas Käldström <lucas.kaldstrom@hotmail.co.uk> - 1.5.1
- Bump version of kubelet and kubectl to v1.5.1, plus kubeadm to the third stable version

* Tue Dec 6 2016 Lucas Käldström <lucas.kaldstrom@hotmail.co.uk> - 1.5.0-beta.2
- Bump version of kubelet and kubectl

* Wed Nov 16 2016 Alexander Kanevskiy <alexander.kanevskiy@intel.com>
- fix iproute and mount dependencies (#204)

* Sun Nov 6 2016 Lucas Käldström <lucas.kaldstrom@hotmail.co.uk>
- Sync the debs and rpm files; add some kubelet dependencies to the rpm manifest

* Wed Nov 2 2016 Lucas Käldström <lucas.kaldstrom@hotmail.co.uk>
- Bump version of kubeadm to v1.5.0-alpha.2.380+85fe0f1aadf91e

* Fri Oct 21 2016 Ilya Dmitrichenko <errordeveloper@gmail.com> - 1.4.4-0
- Bump version of kubelet and kubectl

* Mon Oct 17 2016 Lucas Käldström <lucas.kaldstrom@hotmail.co.uk> - 1.4.3-0
- Bump version of kubeadm

* Fri Oct 14 2016 Matthew Mosesohn  <mmosesohn@mirantis.com> - 1.4.0-1
- Allow locally built/previously downloaded binaries

* Tue Sep 20 2016 dgoodwin <dgoodwin@redhat.com> - 1.4.0-0
- Add kubectl and kubeadm sub-packages.
- Rename to kubernetes-cni.
- Update versions of CNI.

* Wed Jul 20 2016 dgoodwin <dgoodwin@redhat.com> - 1.3.4-1
- Initial packaging.